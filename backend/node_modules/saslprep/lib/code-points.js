'use strict';

const { range } = require('./util');

/**
 * A.1 Unassigned code points in Unicode 3.2
 * @link https://tools.ietf.org/html/rfc3454#appendix-A.1
 */
const unassigned_code_points = new Set([
  0x0221,
  ...range(0x0234, 0x024f),
  ...range(0x02ae, 0x02af),
  ...range(0x02ef, 0x02ff),
  ...range(0x0350, 0x035f),
  ...range(0x0370, 0x0373),
  ...range(0x0376, 0x0379),
  ...range(0x037b, 0x037d),
  ...range(0x037f, 0x0383),
  0x038b,
  0x038d,
  0x03a2,
  0x03cf,
  ...range(0x03f7, 0x03ff),
  0x0487,
  0x04cf,
  ...range(0x04f6, 0x04f7),
  ...range(0x04fa, 0x04ff),
  ...range(0x0510, 0x0530),
  ...range(0x0557, 0x0558),
  0x0560,
  0x0588,
  ...range(0x058b, 0x0590),
  0x05a2,
  0x05ba,
  ...range(0x05c5, 0x05cf),
  ...range(0x05eb, 0x05ef),
  ...range(0x05f5, 0x060b),
  ...range(0x060d, 0x061a),
  ...range(0x061c, 0x061e),
  0x0620,
  ...range(0x063b, 0x063f),
  ...range(0x0656, 0x065f),
  ...range(0x06ee, 0x06ef),
  0x06ff,
  0x070e,
  ...range(0x072d, 0x072f),
  ...range(0x074b, 0x077f),
  ...range(0x07b2, 0x0900),
  0x0904,
  ...range(0x093a, 0x093b),
  ...range(0x094e, 0x094f),
  ...range(0x0955, 0x0957),
  ...range(0x0971, 0x0980),
  0x0984,
  ...range(0x098d, 0x098e),
  ...range(0x0991, 0x0992),
  0x09a9,
  0x09b1,
  ...range(0x09b3, 0x09b5),
  ...range(0x09ba, 0x09bb),
  0x09bd,
  ...range(0x09c5, 0x09c6),
  ...range(0x09c9, 0x09ca),
  ...range(0x09ce, 0x09d6),
  ...range(0x09d8, 0x09db),
  0x09de,
  ...range(0x09e4, 0x09e5),
  ...range(0x09fb, 0x0a01),
  ...range(0x0a03, 0x0a04),
  ...range(0x0a0b, 0x0a0e),
  ...range(0x0a11, 0x0a12),
  0x0a29,
  0x0a31,
  0x0a34,
  0x0a37,
  ...range(0x0a3a, 0x0a3b),
  0x0a3d,
  ...range(0x0a43, 0x0a46),
  ...range(0x0a49, 0x0a4a),
  ...range(0x0a4e, 0x0a58),
  0x0a5d,
  ...range(0x0a5f, 0x0a65),
  ...range(0x0a75, 0x0a80),
  0x0a84,
  0x0a8c,
  0x0a8e,
  0x0a92,
  0x0aa9,
  0x0ab1,
  0x0ab4,
  ...range(0x0aba, 0x0abb),
  0x0ac6,
  0x0aca,
  ...range(0x0ace, 0x0acf),
  ...range(0x0ad1, 0x0adf),
  ...range(0x0ae1, 0x0ae5),
  ...range(0x0af0, 0x0b00),
  0x0b04,
  ...range(0x0b0d, 0x0b0e),
  ...range(0x0b11, 0x0b12),
  0x0b29,
  0x0b31,
  ...range(0x0b34, 0x0b35),
  ...range(0x0b3a, 0x0b3b),
  ...range(0x0b44, 0x0b46),
  ...range(0x0b49, 0x0b4a),
  ...range(0x0b4e, 0x0b55),
  ...range(0x0b58, 0x0b5b),
  0x0b5e,
  ...range(0x0b62, 0x0b65),
  ...range(0x0b71, 0x0b81),
  0x0b84,
  ...range(0x0b8b, 0x0b8d),
  0x0b91,
  ...range(0x0b96, 0x0b98),
  0x0b9b,
  0x0b9d,
  ...range(0x0ba0, 0x0ba2),
  ...range(0x0ba5, 0x0ba7),
  ...range(0x0bab, 0x0bad),
  0x0bb6,
  ...range(0x0bba, 0x0bbd),
  ...range(0x0bc3, 0x0bc5),
  0x0bc9,
  ...range(0x0bce, 0x0bd6),
  ...range(0x0bd8, 0x0be6),
  ...range(0x0bf3, 0x0c00),
  0x0c04,
  0x0c0d,
  0x0c11,
  0x0c29,
  0x0c34,
  ...range(0x0c3a, 0x0c3d),
  0x0c45,
  0x0c49,
  ...range(0x0c4e, 0x0c54),
  ...range(0x0c57, 0x0c5f),
  ...range(0x0c62, 0x0c65),
  ...range(0x0c70, 0x0c81),
  0x0c84,
  0x0c8d,
  0x0c91,
  0x0ca9,
  0x0cb4,
  ...range(0x0cba, 0x0cbd),
  0x0cc5,
  0x0cc9,
  ...range(0x0cce, 0x0cd4),
  ...range(0x0cd7, 0x0cdd),
  0x0cdf,
  ...range(0x0ce2, 0x0ce5),
  ...range(0x0cf0, 0x0d01),
  0x0d04,
  0x0d0d,
  0x0d11,
  0x0d29,
  ...range(0x0d3a, 0x0d3d),
  ...range(0x0d44, 0x0d45),
  0x0d49,
  ...range(0x0d4e, 0x0d56),
  ...range(0x0d58, 0x0d5f),
  ...range(0x0d62, 0x0d65),
  ...range(0x0d70, 0x0d81),
  0x0d84,
  ...range(0x0d97, 0x0d99),
  0x0db2,
  0x0dbc,
  ...range(0x0dbe, 0x0dbf),
  ...range(0x0dc7, 0x0dc9),
  ...range(0x0dcb, 0x0dce),
  0x0dd5,
  0x0dd7,
  ...range(0x0de0, 0x0df1),
  ...range(0x0df5, 0x0e00),
  ...range(0x0e3b, 0x0e3e),
  ...range(0x0e5c, 0x0e80),
  0x0e83,
  ...range(0x0e85, 0x0e86),
  0x0e89,
  ...range(0x0e8b, 0x0e8c),
  ...range(0x0e8e, 0x0e93),
  0x0e98,
  0x0ea0,
  0x0ea4,
  0x0ea6,
  ...range(0x0ea8, 0x0ea9),
  0x0eac,
  0x0eba,
  ...range(0x0ebe, 0x0ebf),
  0x0ec5,
  0x0ec7,
  ...range(0x0ece, 0x0ecf),
  ...range(0x0eda, 0x0edb),
  ...range(0x0ede, 0x0eff),
  0x0f48,
  ...range(0x0f6b, 0x0f70),
  ...range(0x0f8c, 0x0f8f),
  0x0f98,
  0x0fbd,
  ...range(0x0fcd, 0x0fce),
  ...range(0x0fd0, 0x0fff),
  0x1022,
  0x1028,
  0x102b,
  ...range(0x1033, 0x1035),
  ...range(0x103a, 0x103f),
  ...range(0x105a, 0x109f),
  ...range(0x10c6, 0x10cf),
  ...range(0x10f9, 0x10fa),
  ...range(0x10fc, 0x10ff),
  ...range(0x115a, 0x115e),
  ...range(0x11a3, 0x11a7),
  ...range(0x11fa, 0x11ff),
  0x1207,
  0x1247,
  0x1249,
  ...range(0x124e, 0x124f),
  0x1257,
  0x1259,
  ...range(0x125e, 0x125f),
  0x1287,
  0x1289,
  ...range(0x128e, 0x128f),
  0x12af,
  0x12b1,
  ...range(0x12b6, 0x12b7),
  0x12bf,
  0x12c1,
  ...range(0x12c6, 0x12c7),
  0x12cf,
  0x12d7,
  0x12ef,
  0x130f,
  0x1311,
  ...range(0x1316, 0x1317),
  0x131f,
  0x1347,
  ...range(0x135b, 0x1360),
  ...range(0x137d, 0x139f),
  ...range(0x13f5, 0x1400),
  ...range(0x1677, 0x167f),
  ...range(0x169d, 0x169f),
  ...range(0x16f1, 0x16ff),
  0x170d,
  ...range(0x1715, 0x171f),
  ...range(0x1737, 0x173f),
  ...range(0x1754, 0x175f),
  0x176d,
  0x1771,
  ...range(0x1774, 0x177f),
  ...range(0x17dd, 0x17df),
  ...range(0x17ea, 0x17ff),
  0x180f,
  ...range(0x181a, 0x181f),
  ...range(0x1878, 0x187f),
  ...range(0x18aa, 0x1dff),
  ...range(0x1e9c, 0x1e9f),
  ...range(0x1efa, 0x1eff),
  ...range(0x1f16, 0x1f17),
  ...range(0x1f1e, 0x1f1f),
  ...range(0x1f46, 0x1f47),
  ...range(0x1f4e, 0x1f4f),
  0x1f58,
  0x1f5a,
  0x1f5c,
  0x1f5e,
  ...range(0x1f7e, 0x1f7f),
  0x1fb5,
  0x1fc5,
  ...range(0x1fd4, 0x1fd5),
  0x1fdc,
  ...range(0x1ff0, 0x1ff1),
  0x1ff5,
  0x1fff,
  ...range(0x2053, 0x2056),
  ...range(0x2058, 0x205e),
  ...range(0x2064, 0x2069),
  ...range(0x2072, 0x2073),
  ...range(0x208f, 0x209f),
  ...range(0x20b2, 0x20cf),
  ...range(0x20eb, 0x20ff),
  ...range(0x213b, 0x213c),
  ...range(0x214c, 0x2152),
  ...range(0x2184, 0x218f),
  ...range(0x23cf, 0x23ff),
  ...range(0x2427, 0x243f),
  ...range(0x244b, 0x245f),
  0x24ff,
  ...range(0x2614, 0x2615),
  0x2618,
  ...range(0x267e, 0x267f),
  ...range(0x268a, 0x2700),
  0x2705,
  ...range(0x270a, 0x270b),
  0x2728,
  0x274c,
  0x274e,
  ...range(0x2753, 0x2755),
  0x2757,
  ...range(0x275f, 0x2760),
  ...range(0x2795, 0x2797),
  0x27b0,
  ...range(0x27bf, 0x27cf),
  ...range(0x27ec, 0x27ef),
  ...range(0x2b00, 0x2e7f),
  0x2e9a,
  ...range(0x2ef4, 0x2eff),
  ...range(0x2fd6, 0x2fef),
  ...range(0x2ffc, 0x2fff),
  0x3040,
  ...range(0x3097, 0x3098),
  ...range(0x3100, 0x3104),
  ...range(0x312d, 0x3130),
  0x318f,
  ...range(0x31b8, 0x31ef),
  ...range(0x321d, 0x321f),
  ...range(0x3244, 0x3250),
  ...range(0x327c, 0x327e),
  ...range(0x32cc, 0x32cf),
  0x32ff,
  ...range(0x3377, 0x337a),
  ...range(0x33de, 0x33df),
  0x33ff,
  ...range(0x4db6, 0x4dff),
  ...range(0x9fa6, 0x9fff),
  ...range(0xa48d, 0xa48f),
  ...range(0xa4c7, 0xabff),
  ...range(0xd7a4, 0xd7ff),
  ...range(0xfa2e, 0xfa2f),
  ...range(0xfa6b, 0xfaff),
  ...range(0xfb07, 0xfb12),
  ...range(0xfb18, 0xfb1c),
  0xfb37,
  0xfb3d,
  0xfb3f,
  0xfb42,
  0xfb45,
  ...range(0xfbb2, 0xfbd2),
  ...range(0xfd40, 0xfd4f),
  ...range(0xfd90, 0xfd91),
  ...range(0xfdc8, 0xfdcf),
  ...range(0xfdfd, 0xfdff),
  ...range(0xfe10, 0xfe1f),
  ...range(0xfe24, 0xfe2f),
  ...range(0xfe47, 0xfe48),
  0xfe53,
  0xfe67,
  ...range(0xfe6c, 0xfe6f),
  0xfe75,
  ...range(0xfefd, 0xfefe),
  0xff00,
  ...range(0xffbf, 0xffc1),
  ...range(0xffc8, 0xffc9),
  ...range(0xffd0, 0xffd1),
  ...range(0xffd8, 0xffd9),
  ...range(0xffdd, 0xffdf),
  0xffe7,
  ...range(0xffef, 0xfff8),
  ...range(0x10000, 0x102ff),
  0x1031f,
  ...range(0x10324, 0x1032f),
  ...range(0x1034b, 0x103ff),
  ...range(0x10426, 0x10427),
  ...range(0x1044e, 0x1cfff),
  ...range(0x1d0f6, 0x1d0ff),
  ...range(0x1d127, 0x1d129),
  ...range(0x1d1de, 0x1d3ff),
  0x1d455,
  0x1d49d,
  ...range(0x1d4a0, 0x1d4a1),
  ...range(0x1d4a3, 0x1d4a4),
  ...range(0x1d4a7, 0x1d4a8),
  0x1d4ad,
  0x1d4ba,
  0x1d4bc,
  0x1d4c1,
  0x1d4c4,
  0x1d506,
  ...range(0x1d50b, 0x1d50c),
  0x1d515,
  0x1d51d,
  0x1d53a,
  0x1d53f,
  0x1d545,
  ...range(0x1d547, 0x1d549),
  0x1d551,
  ...range(0x1d6a4, 0x1d6a7),
  ...range(0x1d7ca, 0x1d7cd),
  ...range(0x1d800, 0x1fffd),
  ...range(0x2a6d7, 0x2f7ff),
  ...range(0x2fa1e, 0x2fffd),
  ...range(0x30000, 0x3fffd),
  ...range(0x40000, 0x4fffd),
  ...range(0x50000, 0x5fffd),
  ...range(0x60000, 0x6fffd),
  ...range(0x70000, 0x7fffd),
  ...range(0x80000, 0x8fffd),
  ...range(0x90000, 0x9fffd),
  ...range(0xa0000, 0xafffd),
  ...range(0xb0000, 0xbfffd),
  ...range(0xc0000, 0xcfffd),
  ...range(0xd0000, 0xdfffd),
  0xe0000,
  ...range(0xe0002, 0xe001f),
  ...range(0xe0080, 0xefffd),
]);

/**
 * B.1 Commonly mapped to nothing
 * @link https://tools.ietf.org/html/rfc3454#appendix-B.1
 */
const commonly_mapped_to_nothing = new Set([
  0x00ad,
  0x034f,
  0x1806,
  0x180b,
  0x180c,
  0x180d,
  0x200b,
  0x200c,
  0x200d,
  0x2060,
  0xfe00,
  0xfe01,
  0xfe02,
  0xfe03,
  0xfe04,
  0xfe05,
  0xfe06,
  0xfe07,
  0xfe08,
  0xfe09,
  0xfe0a,
  0xfe0b,
  0xfe0c,
  0xfe0d,
  0xfe0e,
  0xfe0f,
  0xfeff,
]);

/**
 * C.1.2 Non-ASCII space characters
 * @link https://tools.ietf.org/html/rfc3454#appendix-C.1.2
 */
const non_ASCII_space_characters = new Set([
  0x00a0 /* NO-BREAK SPACE */,
  0x1680 /* OGHAM